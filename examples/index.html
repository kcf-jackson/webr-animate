<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <header ></header>
</head>
<body>
    <script type="text/javascript">
        import('https://webr.r-wasm.org/latest/webr.mjs').then(
            async ({ WebR }) => {
                const webR = new WebR();
                await webR.init();
                globalThis.webR = webR;

                const shelter = await new webR.Shelter();
                globalThis.shelter = shelter;

                let result = await webR.evalR('rnorm(10,5,1)');
                let output = await result.toArray();
                console.log('Result of running `rnorm` from webR: ', output);

                // let x = await new webR.REnvironment({'a': 1, 'b': 2});
                // await webR.objs.globalEnv.bind('device', x);
                // globalThis.x = x;
            }
        );
    </script>    
</body>
</html>
